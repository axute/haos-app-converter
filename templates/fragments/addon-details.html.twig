<div class="p-3 border rounded" style="background:#fafafa">
    <div class="row g-2">
        <div class="col-12 col-md-6">
            <div><strong>Image:</strong> <code>{{ addon.image|default('') }}{{ addon.image_tag is not empty ? ':' ~ addon.image_tag : '' }}</code></div>
            <div><strong>Detected PM:</strong> {{ addon.detected_pm ?: 'unknown' }}</div>
            <div><strong>Backup:</strong> {{ addon.backup ?: 'disabled' }}</div>
            <div><strong>Quirks:</strong> {{ addon.quirks ? 'Ja' : 'Nein' }}{% if addon.allow_user_env %} (User Env: Ja){% endif %}</div>
        </div>
        <div class="col-12 col-md-6">
            <div><strong>Ingress:</strong> {{ addon.ingress ? 'Enabled (' ~ addon.ingress_port ~ (addon.ingress_stream ? ', stream' : '') ~ ')' : 'Disabled' }}</div>
            {% if addon.webui is not empty %}
                <div><strong>WebUI Port:</strong> {{ addon.webui }}</div>
            {% endif %}
            <div><strong>Ports:</strong> 
                {% set ports = [] %}
                {% for p in (addon.ports ?: []) %}
                    {% set ports = ports|merge([p.host ~ ':' ~ p.container]) %}
                {% endfor %}
                {{ ports is not empty ? ports|join(', ') : '—' }}
            </div>
            <div><strong>Mounts:</strong> {{ addon.map is not empty ? addon.map|join(', ') : '—' }}</div>
        </div>
        <div class="col-12">
            <div><strong>Env:</strong> 
                {% set envs = (addon.env_vars ?: [])|slice(0, 5) %}
                {% for e in envs %}
                    <code>{{ e.key }}</code>
                {% endfor %}
                {% if (addon.env_vars ?: [])|length > 5 %}
                    … (+{{ (addon.env_vars|length) - 5 }} weitere)
                {% endif %}
                {% if addon.env_vars is empty %}
                    —
                {% endif %}
            </div>
        </div>
    </div>
</div>
